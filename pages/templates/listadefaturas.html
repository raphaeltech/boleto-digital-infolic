{% extends "base.html" %}
{% block conteudo %}
                <div class="col-12 d-flex justify-content-center flex-wrap">
                  <table  class="tabela table table-light" id="minhaTabela">
                    <thead>
                      <tr>
                        <th scope="col">Vencimento</th>
                        <th scope="col">Contrato</th>
                        <th scope="col">Valor</th>
                        <th scope="col">Copiar | Imprimir</th>
                      </tr>
                    </thead>
                    <tbody>
                      
                      {% for fatura in faturas.FaturasPendentes  %}
                      {% if fatura.contratos != None %}

                      <tr>
                        <td>{{ fatura.data_vencimento }}</td>
                        <td>{{ fatura.descricao }} 
                          <input type="{{fatura.codfatura}}" name="texto" id="{{fatura.codfatura}}" class="digitavel" placeholder="{{ fatura.ld }}" value="{{ fatura.ld }}" readonly/>
                        </td>
                        <td>R$ {{ fatura.valor_total }} </td>
                        <td><a href="#" onclick="copiarTexto(id = '{{fatura.codfatura}}');"><i class="fa-solid fa-copy"></i></a> <a href="{% url 'pages:imprimirfatura' fatura.codfatura %}" target="_blank"><i class="fa-solid fa-print"></i></a></td>
                      </tr>
                      {% endif %}
                      {% empty %}
                        <tr>
                            <td colspan="4" align="center">
                                Não consta faturas pendentes em seu cpf ou cnpj.
                            </td>
                        </tr>
                        
                        {% endfor %}
                    </tbody>
                  </table>
                </div>
                                
                <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
                <script src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>


                
                <script>

                function copiarTexto(id) {
                        
                        let textoCopiado = document.getElementById(id);
                        console.log(textoCopiado.value)
                        textoCopiado.select();
                        document.execCommand("copy");
                        alert("Linha digitavel copiada com sucesso!");
                    }
               
  
                $(document).ready(function(){
                    $('#minhaTabela').DataTable({
                        "language": {
                              "lengthMenu": "Mostrando _MENU_ registros por página",
                              "zeroRecords": "Nada encontrado",
                              "info": "Mostrando página _PAGE_ de _PAGES_",
                              "infoEmpty": "Nenhum registro disponível",
                              "infoFiltered": "(filtrado de _MAX_ registros no total)",
                              "searching": false
                          }
                          
                      });
                    
                });
</script>
{% endblock %}

          
