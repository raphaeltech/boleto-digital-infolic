{% extends "base.html" %}
{% block conteudo %}
                
<div class="container">
  <div class="row justify-content-md-center">
    <div class="col-md-auto scrol-div">
      
      <select class="form-select" aria-label="Default select example" onchange="mudarSelect(this.value)">
        <option selected>Selecione o Vencimento</option>
        {% for fatura in faturas.FaturasPendentes  %}
        {% if fatura.contratos != None %}      
        <option value="{{fatura.codfatura}}">{{ fatura.data_vencimento }}</option>
        {% endif %}
        {% endfor %}
      </select>
      {% for fatura in faturas.FaturasPendentes  %}
      {% if fatura.contratos != None %}      
      <div class="col-md-auto detalhe" id="detalhe-{{fatura.codfatura}}" class="row justify-content-center text-center" style="display: none;">
        <p class="texto-informativo">Clique no código para copiar!</p>
        <textarea class="input-digitavel" rows="2" cols="" onclick="this.focus();this.select();document.execCommand('copy');alert('Código copiado com sucesso!')" readonly="readonly">{{ fatura.ld }}</textarea>
         
        <a href="{% url 'pages:imprimirfatura' fatura.codfatura %}" target="_blank" class="detalhe-a"><i class="fa-solid fa-print icone"></i></a>
  
       
      </div>
      {% endif %}
      {% endfor %}
      <div class="container-fluid text-center voltar">
        <a href="javascript:history.back()" class="btn btn-primary button">Voltar</a>
      </div>
      
        </div>
  </div>
</div>


<script>
  let visibilidade = false
  function mudarSelect(valor){
  
  if(visibilidade == false){
    var div = document.getElementById("detalhe-"+valor).style.display = "block";
    visibilidade = true;
    divAnterior = +valor
  }else{
    document.getElementById("detalhe-"+divAnterior).style.display = "none";
    document.getElementById("detalhe-"+valor).style.display = "block";
    visibilidade = true;
    divAnterior = +valor
  }
}

</script>             
                                

{% endblock conteudo %}